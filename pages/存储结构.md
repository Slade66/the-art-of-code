- 表空间（Tablespace）
	- 表空间是什么？
		- 表空间在逻辑上是用于存储表数据和索引的容器，在物理上对应磁盘上的一个或多个文件。
		- 每个表就像一张 Excel 表格，用于组织和管理数据；而表空间则相当于存放这些表的文件夹，是用于保存表数据和索引的容器。表空间可以仅装一张表（独立表空间），也可以容纳多张表（系统表空间）。
	- 表空间的分类
		- 系统表空间（System Tablespace）
			- 系统表空间本质上是一个或多个名为 `.ibdata`（默认名为 `ibdata1`）的文件，类似于一个共享的大型文件夹。
			- 在 InnoDB 的早期版本中，所有表的数据和索引默认都集中存储在系统表空间。从 MySQL 5.6 起，默认开启 `innodb_file_per_table = ON`，表的数据和索引被分别存储在各自独立的 `.ibd` 文件中，系统表空间仅保留系统级信息，如 undo 日志和数据字典。
			- 为什么不同的表可以存储在同一个文件中？
				- InnoDB 以页 Page 作为统一的存储单元，所有数据在写入磁盘前都会被转换为统一格式的页。每个页的页头会标明其所属的表（通过表 ID）及用途（如数据页、索引页或 Undo 页）。尽管各表结构不同，但由于存储格式统一，因此可以将不同表的数据混合存储在同一个文件中。
				- InnoDB 并不依赖文件名区分数据，而是依靠页头中的表 ID 和类型标记。每张表都有一个唯一的表 ID，数据页、索引页等都会携带该表 ID。因此，即使多个表的数据存储在同一个 `ibdata1` 文件中，InnoDB 也能通过表 ID 准确区分，如这是 A 表的数据，那是 B 表的索引。
		- 独立表空间（File-Per-Table Tablespace）
			- 独立表空间是指每张表使用独立的文件来存储其数据和索引，而不与其它表共享同一个表空间文件。在 InnoDB 存储引擎中，这些独立文件通常是以 `.ibd` 为扩展名的文件，每个表对应一个 `.ibd` 文件，也就对应一个独立的表空间。
			- 每创建一个数据库，MySQL 会在 `/var/lib/mysql/` 目录下生成一个同名子目录，用于存放该数据库的表数据文件。
			- 在 MySQL 5.x 及之前的版本中，表的结构信息（如列名、数据类型、主键等）保存在对应的 `.frm` 文件中。而从 MySQL 8.0 开始，这些结构信息被统一存储在 InnoDB 的系统表空间中，不再以独立文件的形式存储在磁盘中。
		- Undo 表空间（Undo Tablespace）
			- Undo 表空间用于存储事务回滚和 MVCC 快照读所需的 Undo 日志，记录的是数据修改前的旧值。
			- 在 MySQL 5.7 之前，Undo 日志通常存储在系统表空间（如 `ibdata1`）中；从 MySQL 8.0 起，默认启用独立 Undo 表空间，日志被分别写入 `/var/lib/mysql` 目录下的 `undo_001`、`undo_002` 等文件中。
			- 当你对一条数据进行了修改（比如 `UPDATE`），系统会先把旧值保存到 Undo 表空间，这样如果事务失败或你执行 `ROLLBACK`，MySQL 就能用 Undo 日志把数据恢复成原样。
		- 临时表空间（Temporary Tablespace）
			- 在 MySQL 中，临时表空间用于存储查询过程中产生的中间数据，尤其是在执行排序、分组、连接等复杂操作时。当查询涉及大量数据或内存不足时，MySQL 会将中间结果写入磁盘，并存放在临时表空间中。此外，用户通过 `CREATE TEMPORARY TABLE` 显式创建的临时表也会使用该空间。
			- 从 MySQL 8.0 开始，临时表空间默认以一个名为 `ibtmp1` 的文件存储在磁盘上，该文件通常位于 `/var/lib/mysql/ibtmp1`，在数据库运行期间持续存在，并在服务器重启后被清空。
- [[行（Row）]]
- [[页（Page）]]
- 区（Extent）
	- 区是 InnoDB 中磁盘空间分配的基本单元，由 64 个连续的数据页组成，总大小为 1MB。
	- 为了提升范围查询的性能，InnoDB 尽量将相邻的数据页分配在同一个区中，使它们在磁盘上的位置连续，从而减少随机 I/O，提高顺序读取的效率。
- 段（Segment）
	- 段由多个区组成，用于统一管理具有相同用途的区。
	- 段类型：
		- 数据段：存储 B+ 树的叶子节点，即表中的实际数据行。
		- 索引段：存储 B+ 树的非叶子节点，即索引。
		- 回滚段：存储 Undo 日志，用于支持事务回滚和快照读。
-