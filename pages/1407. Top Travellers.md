-
- ## Description
	- **题目链接：**https://leetcode.cn/problems/top-travellers/
	- **题目截图：**
		- ![1407. Top Travellers.png](../assets/1407._Top_Travellers_1754832721518_0.png)
	- **题目意思：**
		- 将用户表与骑行记录表关联，计算每位用户的总骑行距离，按距离从高到低排序；若距离相同，则按姓名从小到大排列；无骑行记录的用户保留名字，距离显示为 0。
- ## Solution A
	- ### Algorithm
		- 将 `Users` 表与 `Rides` 表做左连接，确保即使用户没有骑行记录，也能在结果中显示他的名字。
		  logseq.order-list-type:: number
		- 按用户分组，对 `distance` 列求和，并用 `COALESCE` 函数将可能出现的 `NULL` 值替换为 `0`。
		  logseq.order-list-type:: number
		- 先按总路程降序，再按人名字母升序排序。
		  logseq.order-list-type:: number
	- ### Code
		- ```sql
		  SELECT name, SUM(COALESCE(distance, 0)) AS travelled_distance
		  FROM Users a
		           LEFT JOIN Rides b ON a.id = b.user_id
		  GROUP BY a.id
		  ORDER BY travelled_distance DESC, name ASC;
		  ```
-