- `defer` 关键字用于推迟函数或方法的执行。
- 可以将 `defer` 理解为一个“稍后执行”的清单，每写一个 `defer`，就相当于往清单里添加一项任务。当函数即将结束时，Go 会依次执行清单中的任务。
- 被 `defer` 的函数调用（即延迟调用）会在所在函数执行完毕、准备返回之前执行。
- 无论函数是否因异常中止，`defer` 的调用都会在函数退出时执行。
- **最佳实践：**
	- 获取资源对象后，立即使用 `defer` 安排关闭任务。
	- **好处：**
		- **代码紧邻**：将获取资源和释放资源的代码放在一起，简洁明了，易于维护。
		- **防止遗忘**：不再需要担心在函数中某个 `if` 分支里 `return` 后忘记关闭文件。无论 `main` 函数如何退出（正常结束、`return` 或 `panic`），`defer` 语句都会保证执行。
- **应用场景：**
	- 资源释放（确保文件、数据库连接、网络连接等资源得到关闭）
	- 及时解锁，避免死锁
	- `panic` 后的恢复：结合 `defer` 和 `recover` 可以捕获 `panic`，防止程序崩溃。
- **后进先出原则：**
	- 如果一个函数中有多个 `defer` 语句，它们会按照“后进先出”的顺序执行：最后声明的 `defer` 最先执行。
- **参数在 `defer` 声明时立即求值：**
	- 延迟调用的函数参数会在 `defer` 语句声明时就被计算并保存，而不是在函数实际执行时才计算。