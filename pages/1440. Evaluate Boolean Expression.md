题目涉及的关键知识点:: [[连接（JOIN）]], [[CASE]]

- ## Description
	- **题目链接：**https://leetcode.cn/problems/evaluate-boolean-expression/
	- **题目截图：**
		- ![1440. Evaluate Boolean Expression.png](../assets/1440._Evaluate_Boolean_Expression_1755295842606_0.png)
	- **题目意思：**
		- `Variables` 表存储变量名及其对应的值，`Expressions` 表存储由这些变量组成的布尔表达式。将两表连接后，用变量对应的值替换布尔表达式中的变量并计算结果是 `true` 还是 `false`。
- ## Solution A
	- ### Algorithm
		- 以 `Expressions` 表为主表，先用 `left_operand` 作为连接条件连接 `Variables` 表，获取左操作数的值。
		  logseq.order-list-type:: number
		- 然后用 `right_operand` 作为连接条件再次连接 `Variables` 表，获取右操作数的值。
		  logseq.order-list-type:: number
		- 当每一行都明确了左右操作数的具体值后，就可以使用搜索 `CASE` 表达式对每行数据进行计算。
		  logseq.order-list-type:: number
	- ### Code
		- **原始写法：**
			- ```mysql
			  SELECT left_operand,
			         operator,
			         right_operand,
			         CASE
			             WHEN operator = '>' THEN CASE WHEN v1.value > v2.value THEN 'true' ELSE 'false' END
			             WHEN operator = '<' THEN CASE WHEN v1.value < v2.value THEN 'true' ELSE 'false' END
			             WHEN operator = '=' THEN CASE WHEN v1.value = v2.value THEN 'true' ELSE 'false' END
			             END AS value
			  FROM Expressions e
			           JOIN Variables v1 ON e.left_operand = v1.name
			           JOIN Variables v2 ON e.right_operand = v2.name;
			  ```
		- **优化写法：**
			- 嵌套的 `CASE` 表达式可以用 `IF` 函数来替代。
			- ```mysql
			  SELECT left_operand,
			         operator,
			         right_operand,
			         CASE
			             WHEN operator = '>' THEN IF(v1.value > v2.value, 'true', 'false')
			             WHEN operator = '<' THEN IF(v1.value < v2.value, 'true', 'false')
			             WHEN operator = '=' THEN IF(v1.value = v2.value, 'true', 'false')
			             END AS value
			  FROM Expressions e
			           JOIN Variables v1 ON e.left_operand = v1.name
			           JOIN Variables v2 ON e.right_operand = v2.name;
			  ```
-